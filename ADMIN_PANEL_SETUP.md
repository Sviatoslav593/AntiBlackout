# üîê –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ

## üìã –û–≥–ª—è–¥ —Ñ—É–Ω–∫—Ü—ñ–π

### ‚úÖ –†–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–æ:

- **–î–∏–Ω–∞–º—ñ—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–∞—Ç—É—Å—É** –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ `/order-status/[–Ω–æ–º–µ—Ä]`
- **–ó–∞—Ö–∏—Å—Ç –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ** –ª–æ–≥—ñ–Ω–æ–º —Ç–∞ –ø–∞—Ä–æ–ª–µ–º
- **–ú–æ–±—ñ–ª—å–Ω–∞ –∞–¥–∞–ø—Ç–∞—Ü—ñ—è** –¥–ª—è –∑—Ä—É—á–Ω–æ–≥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ email-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è** –ø—Ä–∏ –∑–º—ñ–Ω—ñ —Å—Ç–∞—Ç—É—Å—É

## üîß –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### 1. –ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–î–æ–¥–∞–π—Ç–µ –¥–æ `.env.local`:

```bash
# Admin Panel Security
ADMIN_USER=admin
ADMIN_PASS=secret123

# Email Configuration (—è–∫—â–æ —â–µ –Ω–µ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω–æ)
RESEND_API_KEY=your_resend_api_key
```

### 2. –ë–∞–∑–∞ –¥–∞–Ω–∏—Ö

–í–∏–∫–æ–Ω–∞–π—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç `verify-orders-schema.sql` –≤ Supabase Dashboard:

```sql
-- –î–æ–¥–∞—Ç–∏ –∫–æ–ª–æ–Ω–∫—É order_number —è–∫—â–æ —ó—ó –Ω–µ–º–∞—î
ALTER TABLE orders
ADD COLUMN order_number VARCHAR(50) UNIQUE;

-- –°—Ç–≤–æ—Ä–∏—Ç–∏ —ñ–Ω–¥–µ–∫—Å
CREATE INDEX idx_orders_order_number ON orders(order_number);

-- –î–æ–¥–∞—Ç–∏ –∫–æ–ª–æ–Ω–∫—É updated_at —è–∫—â–æ —ó—ó –Ω–µ–º–∞—î
ALTER TABLE orders
ADD COLUMN updated_at TIMESTAMP WITH TIME ZONE DEFAULT NOW();

-- –°—Ç–≤–æ—Ä–∏—Ç–∏ —Ç—Ä–∏–≥–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
CREATE OR REPLACE FUNCTION update_updated_at_column()
RETURNS TRIGGER AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$ language 'plpgsql';

CREATE TRIGGER update_orders_updated_at
    BEFORE UPDATE ON orders
    FOR EACH ROW
    EXECUTE FUNCTION update_updated_at_column();
```

## üöÄ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### 1. –î–æ—Å—Ç—É–ø –¥–æ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ

- **URL**: `https://antiblackout.shop/admin`
- **–õ–æ–≥—ñ–Ω**: `admin` (–∞–±–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ `ADMIN_USER`)
- **–ü–∞—Ä–æ–ª—å**: `secret123` (–∞–±–æ –∑–Ω–∞—á–µ–Ω–Ω—è –∑ `ADMIN_PASS`)

### 2. –£–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è–º–∏

1. **–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è**: `/admin/orders`
2. **–ó–º—ñ–Ω–∏—Ç–∏ —Å—Ç–∞—Ç—É—Å**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ dropdown –º–µ–Ω—é
3. **–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –¥–µ—Ç–∞–ª—ñ**: –ö–Ω–æ–ø–∫–∞ "–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏"
4. **–û–Ω–æ–≤–∏—Ç–∏ —Å–ø–∏—Å–æ–∫**: –ö–Ω–æ–ø–∫–∞ "–û–Ω–æ–≤–∏—Ç–∏"

### 3. –°—Ç–∞—Ç—É—Å–∏ –∑–∞–º–æ–≤–ª–µ–Ω—å

- **–û—á—ñ–∫—É—î –æ–ø–ª–∞—Ç–∏** - –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–≤–æ—Ä–µ–Ω–æ, –æ—á—ñ–∫—É—î –æ–ø–ª–∞—Ç–∏
- **–û–ø–ª–∞—á–µ–Ω–æ** - –æ–ø–ª–∞—Ç–∞ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–∞
- **–ü—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ** - –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–æ –º–µ–Ω–µ–¥–∂–µ—Ä–æ–º
- **–í –æ–±—Ä–æ–±—Ü—ñ** - –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≥–æ—Ç—É—î—Ç—å—Å—è –¥–æ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏
- **–í—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ** - –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–æ
- **–î–æ—Å—Ç–∞–≤–ª–µ–Ω–æ** - –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –¥–æ—Å—Ç–∞–≤–ª–µ–Ω–æ
- **–°–∫–∞—Å–æ–≤–∞–Ω–æ** - –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —Å–∫–∞—Å–æ–≤–∞–Ω–æ

## üì± –ú–æ–±—ñ–ª—å–Ω–∞ –∞–¥–∞–ø—Ç–∞—Ü—ñ—è

### –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ:

- **Responsive –¥–∏–∑–∞–π–Ω** –¥–ª—è –≤—Å—ñ—Ö —Ä–æ–∑–º—ñ—Ä—ñ–≤ –µ–∫—Ä–∞–Ω—ñ–≤
- **–ö–æ–º–ø–∞–∫—Ç–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏** –Ω–∞ –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—è—Ö
- **–ü–æ–≤–Ω–æ—à–∏—Ä–∏–Ω–Ω—ñ –∫–Ω–æ–ø–∫–∏** –¥–ª—è –∑—Ä—É—á–Ω–æ–≥–æ –Ω–∞—Ç–∏—Å–∫–∞–Ω–Ω—è
- **–°–∫–æ—Ä–æ—á–µ–Ω—ñ —Ç–µ–∫—Å—Ç–∏** –¥–ª—è –µ–∫–æ–Ω–æ–º—ñ—ó –º—ñ—Å—Ü—è
- **–í–µ—Ä—Ç–∏–∫–∞–ª—å–Ω–µ —Ä–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è** –Ω–∞ –≤—É–∑—å–∫–∏—Ö –µ–∫—Ä–∞–Ω–∞—Ö

### Breakpoints:

- **sm**: 640px+ (–ø–ª–∞–Ω—à–µ—Ç–∏)
- **md**: 768px+ (–Ω–µ–≤–µ–ª–∏–∫—ñ –Ω–æ—É—Ç–±—É–∫–∏)
- **lg**: 1024px+ (–≤–µ–ª–∏–∫—ñ –µ–∫—Ä–∞–Ω–∏)

## üîÑ –î–∏–Ω–∞–º—ñ—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è

### –°—Ç–æ—Ä—ñ–Ω–∫–∞ —Å—Ç–∞—Ç—É—Å—É –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è:

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è** –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ
- **–ö–Ω–æ–ø–∫–∞ "–û–Ω–æ–≤–∏—Ç–∏"** –¥–ª—è —Ä—É—á–Ω–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
- **–†–µ–∞–ª—å–Ω–∏–π —á–∞—Å** - —Å—Ç–∞—Ç—É—Å –∑–∞–≤–∂–¥–∏ –∞–∫—Ç—É–∞–ª—å–Ω–∏–π
- **–ü–æ–∫–∞–∑ —á–∞—Å—É –æ—Å—Ç–∞–Ω–Ω—å–æ–≥–æ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è**

### –ê–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å:

- **–ú–∏—Ç—Ç—î–≤–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è** –ø—ñ—Å–ª—è –∑–º—ñ–Ω–∏ —Å—Ç–∞—Ç—É—Å—É
- **–Ü–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è** –ø—ñ–¥ —á–∞—Å –æ–Ω–æ–≤–ª–µ–Ω–Ω—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ email** –∫–ª—ñ—î–Ω—Ç—É

## üìß Email-–ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞:

- **–ü—Ä–∏ –∑–º—ñ–Ω—ñ —Å—Ç–∞—Ç—É—Å—É** –≤ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ
- **–ë–∞–≥–∞—Ç–∏–π HTML-—à–∞–±–ª–æ–Ω** –∑ –¥–µ—Ç–∞–ª—è–º–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- **–§–æ—Ç–æ —Ç–æ–≤–∞—Ä—ñ–≤** –≤ email
- **–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è** –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

### –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è:

- **Resend API** –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏
- **–í—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫**: `Antiblackout <noreply@antiblackout.shop>`
- **–¢–µ–º–∞**: "–°—Ç–∞—Ç—É—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è ‚Ññ{–Ω–æ–º–µ—Ä} –∑–º—ñ–Ω–µ–Ω–æ –Ω–∞ {—Å—Ç–∞—Ç—É—Å}"

## üõ°Ô∏è –ë–µ–∑–ø–µ–∫–∞

### –ó–∞—Ö–∏—Å—Ç –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ:

- **HTTP Basic Authentication**
- **Middleware** –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –¥–æ—Å—Ç—É–ø—É
- **–ó–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞** –¥–ª—è –ª–æ–≥—ñ–Ω—É/–ø–∞—Ä–æ–ª—é
- **–ó–∞—Ö–∏—Å—Ç –≤—Å—ñ—Ö `/admin/*` –º–∞—Ä—à—Ä—É—Ç—ñ–≤**

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó:

- **–ó–º—ñ–Ω—ñ—Ç—å –ø–∞—Ä–æ–ª—å** –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
- **–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Å–∏–ª—å–Ω–∏–π –ø–∞—Ä–æ–ª—å**
- **–ù–µ –∑–±–µ—Ä—ñ–≥–∞–π—Ç–µ –ø–∞—Ä–æ–ª—å** –≤ –∫–æ–¥—ñ
- **–û–±–º–µ–∂—Ç–µ –¥–æ—Å—Ç—É–ø** –¥–æ –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –§–∞–π–ª–∏:

- `src/middleware.ts` - –∑–∞—Ö–∏—Å—Ç –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—ñ
- `src/app/admin/` - –∞–¥–º—ñ–Ω-–ø–∞–Ω–µ–ª—å
- `src/app/order-status/[orderNumber]/page.tsx` - –¥–∏–Ω–∞–º—ñ—á–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞ —Å—Ç–∞—Ç—É—Å—É
- `src/app/api/send-status-email/route.ts` - API –¥–ª—è email

### –ó–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ:

- `@supabase/ssr` - —Å—É—á–∞—Å–Ω–∏–π Supabase –∫–ª—ñ—î–Ω—Ç
- `resend` - –≤—ñ–¥–ø—Ä–∞–≤–∫–∞ email
- `next` - middleware —Ç–∞ API routes

## üö® –í–∞–∂–ª–∏–≤–æ

1. **–í–∏–∫–æ–Ω–∞–π—Ç–µ SQL —Å–∫—Ä–∏–ø—Ç** –ø–µ—Ä–µ–¥ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º
2. **–ù–∞–ª–∞—à—Ç—É–π—Ç–µ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞**
3. **–ó–º—ñ–Ω—ñ—Ç—å –ø–∞—Ä–æ–ª—å –∞–¥–º—ñ–Ω–∞** –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º
4. **–ü—Ä–æ—Ç–µ—Å—Ç—É–π—Ç–µ email-–≤—ñ–¥–ø—Ä–∞–≤–∫—É**
5. **–ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –º–æ–±—ñ–ª—å–Ω—É –≤–µ—Ä—Å—ñ—é**

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—ñ –±—Ä–∞—É–∑–µ—Ä–∞
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ —Å–µ—Ä–≤–µ—Ä–∞
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –Ω–∞–ª–∞—à—Ç–æ–≤–∞–Ω—ñ
4. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ Supabase
