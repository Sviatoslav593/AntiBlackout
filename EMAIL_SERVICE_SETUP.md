# üìß Email Service Setup - Resend API Integration

## üéØ –û–≥–ª—è–¥

–Ü–Ω—Ç–µ–≥—Ä–æ–≤–∞–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è email –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω—å —á–µ—Ä–µ–∑ Resend API.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª—ñ–≤

```
src/services/
‚îî‚îÄ‚îÄ emailService.ts              # Email service –∑ Resend API
src/app/api/order/
‚îî‚îÄ‚îÄ route.ts                     # –û–Ω–æ–≤–ª–µ–Ω–∏–π API –∑–∞–º–æ–≤–ª–µ–Ω—å
test-email-service.js            # JavaScript —Ç–µ—Å—Ç
test-email-service.ts            # TypeScript —Ç–µ—Å—Ç
```

## üöÄ –®–≤–∏–¥–∫–∏–π —Å—Ç–∞—Ä—Ç

### 1. –û—Ç—Ä–∏–º–∞–π—Ç–µ Resend API –∫–ª—é—á

1. –ó–∞—Ä–µ—î—Å—Ç—Ä—É–π—Ç–µ—Å—è –Ω–∞ [resend.com](https://resend.com)
2. –ü–µ—Ä–µ–π–¥—ñ—Ç—å –≤ Dashboard ‚Üí API Keys
3. –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤–∏–π API –∫–ª—é—á
4. –°–∫–æ–ø—ñ—é–π—Ç–µ –∫–ª—é—á (–ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ `re_`)

### 2. –î–æ–¥–∞–π—Ç–µ –∑–º—ñ–Ω–Ω—É —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞

–î–æ–¥–∞–π—Ç–µ –¥–æ –≤–∞—à–æ–≥–æ `.env.local` —Ñ–∞–π–ª—É:

```bash
RESEND_API_KEY=re_your_api_key_here
```

### 3. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä

```bash
npm run dev
```

## üìß –§—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ—Å—Ç—å

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

- Email –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –ø—Ä–∏ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- –í—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —è–∫—â–æ –∫–ª—ñ—î–Ω—Ç –≤–∫–∞–∑–∞–≤ email
- –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–æ - –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è —Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–∞–≤—ñ—Ç—å —è–∫—â–æ email –Ω–µ –≤—ñ–¥–ø—Ä–∞–≤–∏–≤—Å—è

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ email

- **–ó–∞–≥–æ–ª–æ–≤–æ–∫**: –õ–æ–≥–æ—Ç–∏–ø AntiBlackout –∑ –≥—Ä–∞–¥—ñ—î–Ω—Ç–æ–º
- **–ü—Ä–∏–≤—ñ—Ç–∞–Ω–Ω—è**: –ü–µ—Ä—Å–æ–Ω–∞–ª—ñ–∑–æ–≤–∞–Ω–µ –∑ —ñ–º–µ–Ω–µ–º –∫–ª—ñ—î–Ω—Ç–∞
- **–Ü–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è**: –ù–æ–º–µ—Ä, —Å—Ç–∞—Ç—É—Å
- **–¢–∞–±–ª–∏—Ü—è —Ç–æ–≤–∞—Ä—ñ–≤**: –ù–∞–∑–≤–∞, –∫—ñ–ª—å–∫—ñ—Å—Ç—å, —Ü—ñ–Ω–∞, —Å—É–º–∞
- **–ö–Ω–æ–ø–∫–∞ –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è**: –ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ —Å—Ç–∞—Ç—É—Å –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- **–ö–æ–Ω—Ç–∞–∫—Ç–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è**: Email, Telegram, –∞–¥—Ä–µ—Å–∞

### –ü—ñ–¥—Ç—Ä–∏–º—É–≤–∞–Ω—ñ —Ñ–æ—Ä–º–∞—Ç–∏

- **HTML**: –°—É—á–∞—Å–Ω–∏–π –¥–∏–∑–∞–π–Ω –∑ CSS
- **Text**: –ü—Ä–æ—Å—Ç–∏–π —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ñ–æ—Ä–º–∞—Ç
- **Responsive**: –ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–ª—è –º–æ–±—ñ–ª—å–Ω–∏—Ö –ø—Ä–∏—Å—Ç—Ä–æ—ó–≤

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –¢–µ—Å—Ç —á–µ—Ä–µ–∑ —Å–∫—Ä–∏–ø—Ç

```bash
# JavaScript –≤–µ—Ä—Å—ñ—è
node test-email-service.js

# TypeScript –≤–µ—Ä—Å—ñ—è (–ø–æ—Ç—Ä–µ–±—É—î ts-node)
npx ts-node test-email-service.ts
```

### –¢–µ—Å—Ç —á–µ—Ä–µ–∑ API

```bash
# –¢–µ—Å—Ç –ø–æ–≤–Ω–æ–≥–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
curl -X POST http://localhost:3000/api/order \
  -H "Content-Type: application/json" \
  -d '{
    "customer": {
      "name": "–¢–µ—Å—Ç –¢–µ—Å—Ç–æ–≤–∏—á",
      "email": "test@example.com",
      "phone": "+380501234567"
    },
    "city": "–ö–∏—ó–≤",
    "branch": "–í—ñ–¥–¥—ñ–ª–µ–Ω–Ω—è ‚Ññ1",
    "payment_method": "cash",
    "items": [
      {
        "name": "Test Product",
        "quantity": 1,
        "price": 1000
      }
    ]
  }'
```

## ‚öôÔ∏è –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è

### –ó–º—ñ–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–Ω–∏–∫–∞

–í `src/services/emailService.ts`:

```typescript
from: "AntiBlackout <noreply@antiblackout.com>";
```

### –ó–º—ñ–Ω–∞ –¥–∏–∑–∞–π–Ω—É email

–†–µ–¥–∞–≥—É–π—Ç–µ —Ñ—É–Ω–∫—Ü—ñ—é `createOrderConfirmationHTML()` –≤ `emailService.ts`

### –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø–æ–ª—ñ–≤

–†–æ–∑—à–∏—Ä—Ç–µ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Order` –≤ `emailService.ts`

## üîß API Reference

### sendOrderConfirmationEmail(order: Order)

```typescript
interface Order {
  id: string;
  customerName: string;
  customerEmail: string;
  items: {
    productName: string;
    quantity: number;
    price: number;
  }[];
  total: number;
}
```

**–ü–æ–≤–µ—Ä—Ç–∞—î:**

```typescript
{
  success: boolean;
  error?: string;
}
```

### formatOrderForEmail(orderData: any)

–ö–æ–Ω–≤–µ—Ä—Ç—É—î –¥–∞–Ω—ñ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è –∑ Supabase –≤ —Ñ–æ—Ä–º–∞—Ç –¥–ª—è email.

## üìä –ü–µ—Ä–µ–≤–∞–≥–∏

### –î–ª—è –∫–ª—ñ—î–Ω—Ç—ñ–≤

- ‚úÖ –ú–∏—Ç—Ç—î–≤–µ –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- ‚úÖ –î–µ—Ç–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è
- ‚úÖ –ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–∏–π –≤–∏–≥–ª—è–¥
- ‚úÖ –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è

### –î–ª—è –±—ñ–∑–Ω–µ—Å—É

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è –ø—Ä–æ—Ü–µ—Å—É
- ‚úÖ –ó–º–µ–Ω—à–µ–Ω–Ω—è –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –Ω–∞ –ø—ñ–¥—Ç—Ä–∏–º–∫—É
- ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω–Ω—è UX
- ‚úÖ –ó–±—ñ–ª—å—à–µ–Ω–Ω—è –¥–æ–≤—ñ—Ä–∏ –∫–ª—ñ—î–Ω—Ç—ñ–≤

## üîí –ë–µ–∑–ø–µ–∫–∞

### –ó–∞—Ö–∏—Å—Ç –¥–∞–Ω–∏—Ö

- ‚úÖ API –∫–ª—é—á –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è –≤—Ö—ñ–¥–Ω–∏—Ö –¥–∞–Ω–∏—Ö
- ‚úÖ –û–±—Ä–æ–±–∫–∞ –ø–æ–º–∏–ª–æ–∫
- ‚úÖ –ù–µ –∫—Ä–∏—Ç–∏—á–Ω—ñ –ø–æ–º–∏–ª–∫–∏ –Ω–µ –≤–ø–ª–∏–≤–∞—é—Ç—å –Ω–∞ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è

### –û–±–º–µ–∂–µ–Ω–Ω—è Resend

- ‚úÖ 3,000 email –Ω–∞ –º—ñ—Å—è—Ü—å (–±–µ–∑–∫–æ—à—Ç–æ–≤–Ω–∏–π –ø–ª–∞–Ω)
- ‚úÖ 100 email –Ω–∞ –¥–µ–Ω—å
- ‚úÖ –í–∞–ª—ñ–¥–∞—Ü—ñ—è email –∞–¥—Ä–µ—Å

## üÜò –í–∏—Ä—ñ—à–µ–Ω–Ω—è –ø—Ä–æ–±–ª–µ–º

### Email –Ω–µ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—î—Ç—å—Å—è

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ `RESEND_API_KEY` –≤ `.env.local`
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –∫–ª—é—á –≤–∞–ª—ñ–¥–Ω–∏–π
3. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—ñ
4. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ email –∞–¥—Ä–µ—Å–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–∞

### –ü–æ–º–∏–ª–∫–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó

1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ –æ–±–æ–≤'—è–∑–∫–æ–≤—ñ –ø–æ–ª—è –ø–µ—Ä–µ–¥–∞–Ω—ñ
2. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Ñ–æ—Ä–º–∞—Ç email –∞–¥—Ä–µ—Å–∏
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–∏—Ö –ø—Ä–∞–≤–∏–ª—å–Ω–∞

### –ü—Ä–æ–±–ª–µ–º–∏ –∑ —Ñ–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è–º

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ UTF-8 –∫–æ–¥—É–≤–∞–Ω–Ω—è
2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ HTML –≤–∞–ª—ñ–¥–Ω–∏–π
3. –¢–µ—Å—Ç—É–π—Ç–µ –Ω–∞ —Ä—ñ–∑–Ω–∏—Ö email –∫–ª—ñ—î–Ω—Ç–∞—Ö

## üìà –ú–æ–Ω—ñ—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏

- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—ñ —Å–µ—Ä–≤–µ—Ä–∞
- –í—ñ–¥—Å—Ç–µ–∂—É–π—Ç–µ —É—Å–ø—ñ—à–Ω—ñ—Å—Ç—å –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ email
- –ú–æ–Ω—ñ—Ç–æ—Ä—É–π—Ç–µ –ø–æ–º–∏–ª–∫–∏

### –ú–µ—Ç—Ä–∏–∫–∏ Resend

- –ü–µ—Ä–µ–≥–ª—è–¥–∞–π—Ç–µ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –≤ Resend Dashboard
- –í—ñ–¥—Å—Ç–µ–∂—É–π—Ç–µ –¥–æ—Å—Ç–∞–≤–∫—É email
- –ú–æ–Ω—ñ—Ç–æ—Ä—É–π—Ç–µ bounce rate

## üîÑ –û–Ω–æ–≤–ª–µ–Ω–Ω—è

### –í–µ—Ä—Å—ñ—è 1.0.0

- ‚úÖ –ë–∞–∑–æ–≤–∞ —ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è –∑ Resend API
- ‚úÖ HTML —Ç–∞ text —Ñ–æ—Ä–º–∞—Ç–∏
- ‚úÖ –ê–¥–∞–ø—Ç–∏–≤–Ω–∏–π –¥–∏–∑–∞–π–Ω
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω–Ω—è

### –ü–ª–∞–Ω–∏ –Ω–∞ –º–∞–π–±—É—Ç–Ω—î

- üîÑ –®–∞–±–ª–æ–Ω–∏ email
- üîÑ –ú—É–ª—å—Ç–∏–º–æ–≤–Ω—ñ—Å—Ç—å
- üîÑ –ê–Ω–∞–ª—ñ—Ç–∏–∫–∞ –≤—ñ–¥–∫—Ä–∏—Ç—Ç—ñ–≤
- üîÑ A/B —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è

## üìû –ü—ñ–¥—Ç—Ä–∏–º–∫–∞

–ü—Ä–∏ –≤–∏–Ω–∏–∫–Ω–µ–Ω–Ω—ñ –ø—Ä–æ–±–ª–µ–º:

1. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—é Resend API
2. –ü–µ—Ä–µ–≥–ª—è–Ω—å—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—ñ
3. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤—Å—ñ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ñ

---

**–í–µ—Ä—Å—ñ—è**: 1.0.0  
**–î–∞—Ç–∞**: 5 —Å—ñ—á–Ω—è 2025  
**–°—Ç–∞—Ç—É—Å**: ‚úÖ –ì–æ—Ç–æ–≤–æ –¥–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è
