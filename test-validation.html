<!DOCTYPE html>
<html lang="uk">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>–¢–µ—Å—Ç –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ñ–æ—Ä–º–∏</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        max-width: 800px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f5f5f5;
      }
      .container {
        background: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }
      h1 {
        color: #333;
        text-align: center;
        margin-bottom: 30px;
      }
      .test-section {
        margin-bottom: 30px;
        padding: 20px;
        border: 1px solid #ddd;
        border-radius: 8px;
        background-color: #fafafa;
      }
      .test-title {
        font-weight: bold;
        color: #2c3e50;
        margin-bottom: 15px;
        font-size: 18px;
      }
      .test-case {
        margin-bottom: 15px;
        padding: 10px;
        background: white;
        border-radius: 5px;
        border-left: 4px solid #3498db;
      }
      .test-input {
        width: 100%;
        padding: 8px 12px;
        border: 1px solid #ddd;
        border-radius: 4px;
        margin-bottom: 5px;
      }
      .test-input.error {
        border-color: #e74c3c;
      }
      .error-message {
        color: #e74c3c;
        font-size: 12px;
        margin-top: 5px;
      }
      .success-message {
        color: #27ae60;
        font-size: 12px;
        margin-top: 5px;
      }
      .test-description {
        font-size: 14px;
        color: #666;
        margin-bottom: 10px;
      }
      .status {
        display: inline-block;
        padding: 2px 8px;
        border-radius: 12px;
        font-size: 11px;
        font-weight: bold;
      }
      .status.pass {
        background-color: #d4edda;
        color: #155724;
      }
      .status.fail {
        background-color: #f8d7da;
        color: #721c24;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>üß™ –¢–µ—Å—Ç –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ñ–æ—Ä–º–∏ –∑–∞–º–æ–≤–ª–µ–Ω–Ω—è</h1>

      <div class="test-section">
        <div class="test-title">üìù –¢–µ—Å—Ç –ø–æ–ª—è "–Ü–º'—è"</div>
        <div class="test-description">
          –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —ñ–º–µ–Ω—ñ: –º—ñ–Ω—ñ–º—É–º 2 —Å–∏–º–≤–æ–ª–∏, —Ç—ñ–ª—å–∫–∏ –ª—ñ—Ç–µ—Ä–∏, –∞–ø–æ—Å—Ç—Ä–æ—Ñ–∏
          —Ç–∞ –¥–µ—Ñ—ñ—Å–∏
        </div>

        <div class="test-case">
          <input
            type="text"
            class="test-input"
            id="firstName"
            placeholder="–í–≤–µ–¥—ñ—Ç—å —ñ–º'—è"
            value=""
          />
          <div
            id="firstNameError"
            class="error-message"
            style="display: none"
          ></div>
          <div
            id="firstNameSuccess"
            class="success-message"
            style="display: none"
          ></div>
          <div class="test-description">
            <strong>–¢–µ—Å—Ç 1:</strong> –í–≤–µ–¥—ñ—Ç—å 1 —Å–∏–º–≤–æ–ª ‚Üí –º–∞—î –∑'—è–≤–∏—Ç–∏—Å—è –ø–æ–º–∏–ª–∫–∞<br />
            <strong>–¢–µ—Å—Ç 2:</strong> –í–≤–µ–¥—ñ—Ç—å 2+ —Å–∏–º–≤–æ–ª—ñ–≤ ‚Üí –ø–æ–º–∏–ª–∫–∞ –º–∞—î –∑–Ω–∏–∫–Ω—É—Ç–∏
          </div>
        </div>
      </div>

      <div class="test-section">
        <div class="test-title">üìû –¢–µ—Å—Ç –ø–æ–ª—è "–¢–µ–ª–µ—Ñ–æ–Ω"</div>
        <div class="test-description">
          –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó —Ç–µ–ª–µ—Ñ–æ–Ω—É: —Ñ–æ—Ä–º–∞—Ç +380XXXXXXXXX –∞–±–æ 0XXXXXXXXX
        </div>

        <div class="test-case">
          <input
            type="tel"
            class="test-input"
            id="phone"
            placeholder="+380XXXXXXXXX"
            value="+380"
          />
          <div
            id="phoneError"
            class="error-message"
            style="display: none"
          ></div>
          <div
            id="phoneSuccess"
            class="success-message"
            style="display: none"
          ></div>
          <div class="test-description">
            <strong>–¢–µ—Å—Ç 1:</strong> –í–≤–µ–¥—ñ—Ç—å –Ω–µ–ø–æ–≤–Ω–∏–π –Ω–æ–º–µ—Ä ‚Üí –º–∞—î –∑'—è–≤–∏—Ç–∏—Å—è
            –ø–æ–º–∏–ª–∫–∞<br />
            <strong>–¢–µ—Å—Ç 2:</strong> –í–≤–µ–¥—ñ—Ç—å –ø–æ–≤–Ω–∏–π –Ω–æ–º–µ—Ä ‚Üí –ø–æ–º–∏–ª–∫–∞ –º–∞—î –∑–Ω–∏–∫–Ω—É—Ç–∏
          </div>
        </div>
      </div>

      <div class="test-section">
        <div class="test-title">üìß –¢–µ—Å—Ç –ø–æ–ª—è "Email"</div>
        <div class="test-description">
          –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó email: –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–µ –ø–æ–ª–µ)
        </div>

        <div class="test-case">
          <input
            type="email"
            class="test-input"
            id="email"
            placeholder="user@example.com"
            value=""
          />
          <div
            id="emailError"
            class="error-message"
            style="display: none"
          ></div>
          <div
            id="emailSuccess"
            class="success-message"
            style="display: none"
          ></div>
          <div class="test-description">
            <strong>–¢–µ—Å—Ç 1:</strong> –í–≤–µ–¥—ñ—Ç—å –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π email ‚Üí –º–∞—î –∑'—è–≤–∏—Ç–∏—Å—è
            –ø–æ–º–∏–ª–∫–∞<br />
            <strong>–¢–µ—Å—Ç 2:</strong> –í–≤–µ–¥—ñ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π email ‚Üí –ø–æ–º–∏–ª–∫–∞ –º–∞—î
            –∑–Ω–∏–∫–Ω—É—Ç–∏<br />
            <strong>–¢–µ—Å—Ç 3:</strong> –ó–∞–ª–∏—à—Ç–µ –ø–æ—Ä–æ–∂–Ω—ñ–º ‚Üí –ø–æ–º–∏–ª–∫–∏ –Ω–µ –º–∞—î –±—É—Ç–∏
          </div>
        </div>
      </div>

      <div class="test-section">
        <div class="test-title">üí≥ –¢–µ—Å—Ç –ø–æ–ª—è "–°–ø–æ—Å—ñ–± –æ–ø–ª–∞—Ç–∏"</div>
        <div class="test-description">
          –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤–∏–±–æ—Ä—É —Å–ø–æ—Å–æ–±—É –æ–ø–ª–∞—Ç–∏: –æ–±–æ–≤'—è–∑–∫–æ–≤–µ –ø–æ–ª–µ
        </div>

        <div class="test-case">
          <div style="margin-bottom: 10px">
            <input
              type="radio"
              name="paymentMethod"
              value="online"
              id="online"
            />
            <label for="online">–û–ø–ª–∞—Ç–∞ –∫–∞—Ä—Ç–∫–æ—é –æ–Ω–ª–∞–π–Ω</label>
          </div>
          <div>
            <input
              type="radio"
              name="paymentMethod"
              value="cash_on_delivery"
              id="cash"
            />
            <label for="cash">–ü—ñ—Å–ª—è–ø–ª–∞—Ç–∞ (–æ–ø–ª–∞—Ç–∞ –ø—Ä–∏ –æ—Ç—Ä–∏–º–∞–Ω–Ω—ñ)</label>
          </div>
          <div
            id="paymentError"
            class="error-message"
            style="display: none"
          ></div>
          <div
            id="paymentSuccess"
            class="success-message"
            style="display: none"
          ></div>
          <div class="test-description">
            <strong>–¢–µ—Å—Ç 1:</strong> –ù–µ –≤–∏–±–∏—Ä–∞–π—Ç–µ —Å–ø–æ—Å—ñ–± –æ–ø–ª–∞—Ç–∏ ‚Üí –º–∞—î –∑'—è–≤–∏—Ç–∏—Å—è
            –ø–æ–º–∏–ª–∫–∞<br />
            <strong>–¢–µ—Å—Ç 2:</strong> –í–∏–±–µ—Ä—ñ—Ç—å —Å–ø–æ—Å—ñ–± –æ–ø–ª–∞—Ç–∏ ‚Üí –ø–æ–º–∏–ª–∫–∞ –º–∞—î
            –∑–Ω–∏–∫–Ω—É—Ç–∏
          </div>
        </div>
      </div>

      <div class="test-section">
        <div class="test-title">üìä –†–µ–∑—É–ª—å—Ç–∞—Ç–∏ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è</div>
        <div id="testResults">
          <div class="test-description">
            –ó–∞–ø—É—Å—Ç—ñ—Ç—å —Ç–µ—Å—Ç–∏, —â–æ–± –ø–æ–±–∞—á–∏—Ç–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó
          </div>
        </div>
      </div>
    </div>

    <script>
      // –ü—Ä–æ—Å—Ç–∏–π –≤–∞–ª—ñ–¥–∞—Ç–æ—Ä –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
      function validateFirstName(value) {
        if (!value.trim()) return "–Ü–º'—è —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º –ø–æ–ª–µ–º";
        if (value.trim().length < 2)
          return "–Ü–º'—è –º–∞—î –º—ñ—Å—Ç–∏—Ç–∏ –ø—Ä–∏–Ω–∞–π–º–Ω—ñ 2 —Å–∏–º–≤–æ–ª–∏";
        if (value.trim().length > 30)
          return "–Ü–º'—è –Ω–µ –ø–æ–≤–∏–Ω–Ω–æ –ø–µ—Ä–µ–≤–∏—â—É–≤–∞—Ç–∏ 30 —Å–∏–º–≤–æ–ª—ñ–≤";
        if (!/^[–∞-—è–ê-–Ø—ë–Åa-zA-Z'`'-]+$/u.test(value.trim()))
          return "–Ü–º'—è –º–æ–∂–µ –º—ñ—Å—Ç–∏—Ç–∏ —Ç—ñ–ª—å–∫–∏ –ª—ñ—Ç–µ—Ä–∏, –∞–ø–æ—Å—Ç—Ä–æ—Ñ–∏ —Ç–∞ –¥–µ—Ñ—ñ—Å–∏";
        return null;
      }

      function validatePhone(value) {
        const phoneRegex = /^(\+?380|0)\d{9}$/;
        if (!value.trim()) return "–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É —î –æ–±–æ–≤'—è–∑–∫–æ–≤–∏–º";
        if (!value.startsWith("+380")) return "–ù–æ–º–µ—Ä –ø–æ–≤–∏–Ω–µ–Ω –ø–æ—á–∏–Ω–∞—Ç–∏—Å—è –∑ +380";
        if (value.length !== 13)
          return "–ù–æ–º–µ—Ä –ø–æ–≤–∏–Ω–µ–Ω –º—ñ—Å—Ç–∏—Ç–∏ 13 —Å–∏–º–≤–æ–ª—ñ–≤ (+380XXXXXXXXX)";
        if (!phoneRegex.test(value))
          return "–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π —Ñ–æ—Ä–º–∞—Ç. –ü—Ä–∏–∫–ª–∞–¥: +380671234567";
        if (value === "+380") return "–í–≤–µ–¥—ñ—Ç—å –ø–æ–≤–Ω–∏–π –Ω–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω—É";
        return null;
      }

      function validateEmail(value) {
        if (!value.trim()) return null; // Email is optional
        const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (value.trim().length > 100)
          return "–ï–ª–µ–∫—Ç—Ä–æ–Ω–Ω–∞ –ø–æ—à—Ç–∞ –Ω–µ –ø–æ–≤–∏–Ω–Ω–∞ –ø–µ—Ä–µ–≤–∏—â—É–≤–∞—Ç–∏ 100 —Å–∏–º–≤–æ–ª—ñ–≤";
        if (!emailRegex.test(value.trim()))
          return "–í–≤–µ–¥—ñ—Ç—å –∫–æ—Ä–µ–∫—Ç–Ω—É –µ–ª–µ–∫—Ç—Ä–æ–Ω–Ω—É –∞–¥—Ä–µ—Å—É";
        return null;
      }

      function validatePaymentMethod() {
        const selected = document.querySelector(
          'input[name="paymentMethod"]:checked'
        );
        if (!selected) return "–ë—É–¥—å –ª–∞—Å–∫–∞, –æ–±–µ—Ä—ñ—Ç—å —Å–ø–æ—Å—ñ–± –æ–ø–ª–∞—Ç–∏";
        return null;
      }

      function showError(elementId, message) {
        const errorEl = document.getElementById(elementId);
        const successEl = document.getElementById(
          elementId.replace("Error", "Success")
        );
        if (errorEl) {
          errorEl.textContent = message;
          errorEl.style.display = "block";
        }
        if (successEl) {
          successEl.style.display = "none";
        }
      }

      function showSuccess(elementId, message) {
        const errorEl = document.getElementById(elementId);
        const successEl = document.getElementById(
          elementId.replace("Error", "Success")
        );
        if (errorEl) {
          errorEl.style.display = "none";
        }
        if (successEl) {
          successEl.textContent = message;
          successEl.style.display = "block";
        }
      }

      function clearMessage(elementId) {
        const errorEl = document.getElementById(elementId);
        const successEl = document.getElementById(
          elementId.replace("Error", "Success")
        );
        if (errorEl) {
          errorEl.style.display = "none";
        }
        if (successEl) {
          successEl.style.display = "none";
        }
      }

      // –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–æ–ª—è —ñ–º–µ–Ω—ñ
      document
        .getElementById("firstName")
        .addEventListener("input", function () {
          const error = validateFirstName(this.value);
          if (error) {
            showError("firstNameError", error);
            this.classList.add("error");
          } else {
            showSuccess("firstNameSuccess", "‚úÖ –Ü–º'—è –≤–∞–ª—ñ–¥–Ω–µ");
            this.classList.remove("error");
          }
        });

      // –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–æ–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω—É
      document.getElementById("phone").addEventListener("input", function () {
        const error = validatePhone(this.value);
        if (error) {
          showError("phoneError", error);
          this.classList.add("error");
        } else {
          showSuccess("phoneSuccess", "‚úÖ –¢–µ–ª–µ—Ñ–æ–Ω –≤–∞–ª—ñ–¥–Ω–∏–π");
          this.classList.remove("error");
        }
      });

      // –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è –ø–æ–ª—è email
      document.getElementById("email").addEventListener("input", function () {
        const error = validateEmail(this.value);
        if (error) {
          showError("emailError", error);
          this.classList.add("error");
        } else if (this.value.trim()) {
          showSuccess("emailSuccess", "‚úÖ Email –≤–∞–ª—ñ–¥–Ω–∏–π");
          this.classList.remove("error");
        } else {
          clearMessage("emailError");
          this.classList.remove("error");
        }
      });

      // –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è —Å–ø–æ—Å–æ–±—É –æ–ø–ª–∞—Ç–∏
      document
        .querySelectorAll('input[name="paymentMethod"]')
        .forEach((radio) => {
          radio.addEventListener("change", function () {
            const error = validatePaymentMethod();
            if (error) {
              showError("paymentError", error);
            } else {
              showSuccess("paymentSuccess", "‚úÖ –°–ø–æ—Å—ñ–± –æ–ø–ª–∞—Ç–∏ –≤–∏–±—Ä–∞–Ω–æ");
            }
          });
        });

      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è
      function runAutoTests() {
        const results = [];

        // –¢–µ—Å—Ç 1: –Ü–º'—è –∑ 1 —Å–∏–º–≤–æ–ª–æ–º
        const firstNameInput = document.getElementById("firstName");
        firstNameInput.value = "A";
        firstNameInput.dispatchEvent(new Event("input"));
        const firstNameError =
          document.getElementById("firstNameError").textContent;
        results.push({
          test: "–Ü–º'—è –∑ 1 —Å–∏–º–≤–æ–ª–æ–º",
          expected: "–ü–æ–º–∏–ª–∫–∞",
          actual: firstNameError ? "–ü–æ–º–∏–ª–∫–∞" : "–ë–µ–∑ –ø–æ–º–∏–ª–∫–∏",
          passed: !!firstNameError,
        });

        // –¢–µ—Å—Ç 2: –Ü–º'—è –∑ 2+ —Å–∏–º–≤–æ–ª–∞–º–∏
        firstNameInput.value = "Anna";
        firstNameInput.dispatchEvent(new Event("input"));
        const firstNameSuccess =
          document.getElementById("firstNameSuccess").textContent;
        results.push({
          test: "–Ü–º'—è –∑ 2+ —Å–∏–º–≤–æ–ª–∞–º–∏",
          expected: "–í–∞–ª—ñ–¥–Ω–µ",
          actual: firstNameSuccess ? "–í–∞–ª—ñ–¥–Ω–µ" : "–ù–µ –≤–∞–ª—ñ–¥–Ω–µ",
          passed: !!firstNameSuccess,
        });

        // –¢–µ—Å—Ç 3: –¢–µ–ª–µ—Ñ–æ–Ω –Ω–µ–ø–æ–≤–Ω–∏–π
        const phoneInput = document.getElementById("phone");
        phoneInput.value = "+380123";
        phoneInput.dispatchEvent(new Event("input"));
        const phoneError = document.getElementById("phoneError").textContent;
        results.push({
          test: "–¢–µ–ª–µ—Ñ–æ–Ω –Ω–µ–ø–æ–≤–Ω–∏–π",
          expected: "–ü–æ–º–∏–ª–∫–∞",
          actual: phoneError ? "–ü–æ–º–∏–ª–∫–∞" : "–ë–µ–∑ –ø–æ–º–∏–ª–∫–∏",
          passed: !!phoneError,
        });

        // –¢–µ—Å—Ç 4: –¢–µ–ª–µ—Ñ–æ–Ω –ø–æ–≤–Ω–∏–π
        phoneInput.value = "+380123456789";
        phoneInput.dispatchEvent(new Event("input"));
        const phoneSuccess =
          document.getElementById("phoneSuccess").textContent;
        results.push({
          test: "–¢–µ–ª–µ—Ñ–æ–Ω –ø–æ–≤–Ω–∏–π",
          expected: "–í–∞–ª—ñ–¥–Ω–∏–π",
          actual: phoneSuccess ? "–í–∞–ª—ñ–¥–Ω–∏–π" : "–ù–µ –≤–∞–ª—ñ–¥–Ω–∏–π",
          passed: !!phoneSuccess,
        });

        // –¢–µ—Å—Ç 5: Email –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π
        const emailInput = document.getElementById("email");
        emailInput.value = "invalid-email";
        emailInput.dispatchEvent(new Event("input"));
        const emailError = document.getElementById("emailError").textContent;
        results.push({
          test: "Email –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π",
          expected: "–ü–æ–º–∏–ª–∫–∞",
          actual: emailError ? "–ü–æ–º–∏–ª–∫–∞" : "–ë–µ–∑ –ø–æ–º–∏–ª–∫–∏",
          passed: !!emailError,
        });

        // –¢–µ—Å—Ç 6: Email –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π
        emailInput.value = "user@example.com";
        emailInput.dispatchEvent(new Event("input"));
        const emailSuccess =
          document.getElementById("emailSuccess").textContent;
        results.push({
          test: "Email –ø—Ä–∞–≤–∏–ª—å–Ω–∏–π",
          expected: "–í–∞–ª—ñ–¥–Ω–∏–π",
          actual: emailSuccess ? "–í–∞–ª—ñ–¥–Ω–∏–π" : "–ù–µ –≤–∞–ª—ñ–¥–Ω–∏–π",
          passed: !!emailSuccess,
        });

        // –ü–æ–∫–∞–∑—É—î–º–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∏
        const resultsHtml = results
          .map(
            (result) => `
                <div class="test-case">
                    <strong>${result.test}:</strong> 
                    <span class="status ${result.passed ? "pass" : "fail"}">
                        ${result.passed ? "–ü–†–û–ô–î–ï–ù–û" : "–ù–ï –ü–†–û–ô–î–ï–ù–û"}
                    </span>
                    <br>
                    <small>–û—á—ñ–∫—É–≤–∞–ª–æ—Å—è: ${result.expected}, –û—Ç—Ä–∏–º–∞–Ω–æ: ${
              result.actual
            }</small>
                </div>
            `
          )
          .join("");

        document.getElementById("testResults").innerHTML = `
                <div class="test-description">
                    <strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ç–µ—Å—Ç–∏ –≤–∞–ª—ñ–¥–∞—Ü—ñ—ó:</strong>
                </div>
                ${resultsHtml}
            `;
      }

      // –ó–∞–ø—É—Å–∫–∞—î–º–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω—ñ —Ç–µ—Å—Ç–∏ —á–µ—Ä–µ–∑ 2 —Å–µ–∫—É–Ω–¥–∏
      setTimeout(runAutoTests, 2000);
    </script>
  </body>
</html>
